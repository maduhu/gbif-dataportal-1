-

HELP CONTENTS

  1. SUMMARY
  2. GET INDIVIDUAL RECORDS - get
  3. SEARCH FOR RECORDS - list
  4. COUNT RECORDS - count
  5. GET HELP - help
  6. RESPONSE STRUCTURE - schema
  7. BROWSER FORMATTING - stylesheet


1. SUMMARY

    The occurrence web service provides access to records of the occurrence
    of organisms from the GBIF network.
    
    Syntax: __WSROOT__/rest/occurrence/<action>?<parameter_list>
            
      where:
      
        action is one of:
                    
          get - get occurrence data for a single record
          list - search for occurrence records matching a range of filters
          count - count occurrence records matching a range of filters
          help - displays this help text
          schema - returns the response schema document
          stylesheet - returns a stylesheet for rendering response documents 
              as HTML
        
        parameter_list is a set of key-value pair options controlling or
        modifying how the service handles the action request.
    
    See subsections below for information on the parameters supported in parameter 
    list for each action.


2. GET INDIVIDUAL RECORDS - get

    Syntax: __WSROOT__/rest/occurrence/get/<key>?<parameter_list>
        or: __WSROOT__/rest/occurrence/get?<parameter_list>
    
      where:
      
        key is a numeric key uniquely identifying the occurrence record within the
            GBIF data portal.
    
        parameter_list is a set of URL-encoded key-value pairs including any of 
            the following keys:
            
          key - numeric key uniquely identifying the occurrence record within the
              GBIF data portal (same as key above)
              
          stylesheet - sets the URL of the stylesheet to be associated with the 
              response document.  This overrides the default provided by the data 
              portal.  Supplying an empty string as the value for this parameter
              disables the setting of a stylesheet by the data portal.  The value
              of this parameter is used in an xml-stylesheet processing instruction
              at the start of the response document.  See "7. BROWSER FORMATTING -
              stylesheet" below.
    
          format - specifies the format in which the records are to be returned.
              At present the supported values are brief, darwin and kml but more
              may be added later.  
              
              The brief format includes only the available elements from the 
              following list for each record:
              
                - GBIF occurrence record key (can be used with get action)
                - GBIF taxon concept key (can be used in taxonconceptkey parameter
                    on subsequent invocations of the count or list actions, or
                    with the get action of the taxon service)
                - Darwin Core ScientificName
                - Darwin Core Country (with ISO country code as the value)
                - Darwin Core DecimalLatitude
                - Darwin Core DecimalLongitude
                - Darwin Core EarliestDateCollected
                - Darwin Core LatestDateCollected
                - Darwin Core CatalogNumber
                
              The darwin format includes all of the above and any other 
              available Darwin Core concepts.  a gbifNotes element
              is used to return additional diagnostic information on the 
              internal consistency and completeness of the record.
              
              The kml format returns a KML Placemark feature for Google Earth.
              The Placemark name holds the ScientificName, and the Placemark
              description holds an HTML table with the provider name, institution
              code, collection code, catalogue number, occurrence date and 
              portal URL for the record.  When the kml format is specified, 
			  the icon parameter may be used to specify an icon for use with the 
              Placemark.  If the icon parameter is not specified, the portal will 
              use an internal icon.
                
              Note that this service only returns data elements held in the 
              GBIF data portal index.  The source records from the providers
              may hold additional data.
                      
          mode - specifies whether the response data should (as far as possible)
              be the raw values originally retrieved from the data resource or
              processed (normalised) values used within the data portal.  The 
              two modes differ particularly with respect to the values returned
              for Country (processed mode returns 2-letter ISO codes for any
              records where the country has been interpreted, either from the 
              country name supplied by the provider or from coordinated) and
              BasisOfRecord (processed mode maps all raw basis of record strings
              to one of the values listed under "basisofrecordcode" above).  The
              processed mode may also normalise the format of taxon names.  
              
              Supported values are: raw (which is the default), processed.
              
          icon - (only when format is set to kml) specified the URL for an icon
              to be used for the KML Placemark.
              
    The get action is intended as a quick way to retrieve an occurrence record for
    which the key is already known (e.g. from an earlier use of the list action).
    
    The response is formatted according to the XML schema returned by the schema
    action (see "6. RESPONSE STRUCTURE - schema" below).
    
    Examples:
    
      __WSROOT__/rest/occurrence/get/100
              - returns the occurrence record with key 100
              
      __WSROOT__/rest/occurrence/get?key=100&stylesheet=
              - returns the occurrence record with key 100 with HTML formatting
                  disabled.    

    Likely future enhancements:
    
        1. Support a format parameter to switch to alternate formats.
        2. Include a URL to retrieve the original record from the provider.

  
3. SEARCH FOR RECORDS - list

    Syntax: __WSROOT__/rest/occurrence/list?<parameter_list>
    
      where:
      
        parameter_list is a set of URL-encoded key-value pairs including any of 
            the following keys:

          scientificname - return only records where the scientific name matches 
              that supplied - this is based on the scientific name found in the 
              original record from the data provider and does not make use of 
              extra knowledge of possible synonyms or of child taxa.  For these
              functions, use taxonconceptkey.
              
              Including an asterisk '*' in the search string causes the service
              to return records for any name starting with the string preceding
              the asterisk.  There must be at least three characters preceding
              the asterisk.
              
              The scientificname parameter may be repeated within a single 
              request - the results will include records matching any of the
              supplied scientific names.
                      
          taxonconceptkey - return only records which are for the taxon identified
              by the supplied numeric key, including any records provided under 
              synonyms of the taxon concerned, and any records for child taxa (e.g.
              all genera and species within a family).  
              
              Values for taxonconceptkey can be found through the taxon web service
              (see __WSROOT__/rest/taxon).  Note that the service will always 
              search using the corresponding concept in the synthetic generated 
              "PORTAL" taxonomy (even if the taxonconceptkey is for a concept from
              a specific resource.  Use dataresourcekey to limit the search to a
              single data resource.  The most efficient and thorough way to
              search will be to limit searches to taxa belonging to the following ranks:
              kingdom, phylum, class, order, family, genus, species, any infraspecific
              rank.  
              
              Each record returned from this action (and from the get action) also 
              includes a taxonKey attribute which can be used in the taxonconceptkey 
              parameter on subsequent invocations of the list and count actions.
                      
              The taxonconceptkey parameter may be repeated within a single 
              request - the results will include records for any of the specified
              taxa.
                      
          dataproviderkey - return only records which have been made available by the
              provider identified by the supplied numeric key.  (Each provider may
              serve one or more resources, so this can be used to query the full
              set of resources from a single provider.)
              
              Values for dataproviderkey can be found through the provider web service
              (see __WSROOT__/rest/provider) or from previous invocations of
              the list and get actions of this service.
                      
              The dataproviderkey parameter may be repeated within a single 
              request - the results will include records from any of the specified
              providers.
                      
          dataresourcekey - return only records which have been made available by the
              resource identified by the supplied numeric key.  (Each provider may
              serve one or more resources.)  Note that the portal user interface 
              uses the term "dataset" for resources.
              
              Values for dataresourcekey can be found through the resource web service
              (see __WSROOT__/rest/resource) or from previous invocations of
              the list and get actions of this service.
                      
              The dataresourcekey parameter may be repeated within a single 
              request - the results will include records from any of the specified
              resources.
              
          institutioncode - return only records from a given institution code.
          
          collectioncode - return only records from a given collection code.
          
          catalognumber - return only records from a given catalog number.       
                      
          resourcenetworkkey - return only records which have been made available by 
              resources identified as belonging to the network identified by the supplied 
              numeric key.  (Each network may include several resources.)  Note that
              the portal user interface uses the term "data network" for resource
              networks.
              
              Values for resourcenetworkkey can be found through the network web service
              (see __WSROOT__/rest/network).
                      
              The resourcenetworkkey parameter may be repeated within a single 
              request - the results will include records from any of the specified
              resource networks.
                      
          basisofrecordcode - return only records with the specified basis of record. 
              
              Supported values are: specimen, observation, living, germplasm, fossil,
              unknown.
              
              The basisofrecordcode parameter may be repeated within a single 
              request - the results will include records for any of the specified
              basis of record codes.
                      
          minlatitude - return only records from locations with latitudes greater than 
              the supplied value (southern hemisphere with negative latitudes).  This 
              can be used with other parameters to specify a bounding box.  Records 
              without a latitude will be excluded from the results.  Note that the 
              portal will expand the requested bounding box to the size of an
              enclosing 0.1 by 0.1 degree cell or to the set of all enclosing 1 by 1
              degree cells, whichever is smaller.  Further restriction will require
              postprocessing.
                      
          maxlatitude - return only records from locations with latitudes lower than 
              the supplied value (southern hemisphere with negative latitudes).  This 
              can be used with other parameters to specify a bounding box.  Records 
              without a latitude will be excluded from the results.  Note that the 
              portal will expand the requested bounding box to the size of an
              enclosing 0.1 by 0.1 degree cell or to the set of all enclosing 1 by 1
              degree cells, whichever is smaller.  Further restriction will require
              postprocessing.
                      
          minlongitude - return only records from locations with longitudes greater than 
              the supplied value (western hemisphere with negative longitudes).  This 
              can be used with other parameters to specify a bounding box.  Records 
              without a longitude will be excluded from the results.  Note that the 
              portal will expand the requested bounding box to the size of an
              enclosing 0.1 by 0.1 degree cell or to the set of all enclosing 1 by 1
              degree cells, whichever is smaller.  Further restriction will require
              postprocessing.  Note that this service does not currently support 
              bounding boxes spanning 180 degrees east or west.
                      
          maxlongitude - return only records from locations with longitudes lower than 
              the supplied value (western hemisphere with negative longitudes).  This 
              can be used with other parameters to specify a bounding box.  Records 
              without a longitude will be excluded from the results.  Note that the 
              portal will expand the requested bounding box to the size of an
              enclosing 0.1 by 0.1 degree cell or to the set of all enclosing 1 by 1
              degree cells, whichever is smaller.  Further restriction will require
              postprocessing.  Note that this service does not currently support 
              bounding boxes spanning 180 degrees east or west.
              
          minaltitude - return only records from altitudes greater than or equal to the
              supplied value. Only supports integer values. Records without a
              altitude value will be excluded from the results.           
          		  
          maxaltitude - return only records from altitudes less than or equals to the
              supplied value. Only supports integer values. Records without a
              altitude value will be excluded from the results.           

          mindepth - return only records from depth greater than or equal to the
              supplied value. Supports decimal values to 2 decimal places. Records without a
              depth value will be excluded from the results.           
          		  
          maxdepth - return only records from depth less than or equals to the
              supplied value. Supports decimal values to 2 decimal places. Records without a
              depth value will be excluded from the results.           
              
          cellid - identifier for a one degree cell (numbered from 0 for the cell with
              -180,-90 for its lower left corner, up to 64,799 for the cell with 
              180, 90 for its upper right corner, iterating over all longitudes for
              each latitude before starting the next highest latitiude).  Values for
              cellid and associated counts of records can be retrieved from the
              density service (see __WSROOT__/rest/density).  Using a cellid is more
              efficient than using a bounding box for the same cell.
              
              The cellid parameter may be repeated within a single request - the 
              results will include records for any of the specified cells.
                      
          centicellid - identifier for a 0.1 degree cell within a one degree cell
              (numbered from 0 for the cell in the lower left corner, up to 99 for 
              the cell with the upper right corner, iterating over all longitudes for
              each latitude before starting the next highest latitiude).
              
              The centicellid parameter may be repeated within a single request - the 
              results will return records for any of the specified cells.

          typesonly - if set to "true", return only records with a type status 
              specified.
              
          georeferencedonly - if set to "true", return only records with coordinates.
              This option is deprecated.  Please use coordinatestatus=true instead.
              
          coordinatestatus - if set to "true", return only records with coordinates.
              This is set automatically if format is kml.  If set to "false", return
              only records without coordinates.  Omit this parameter to retrieve 
              all records, with or without coordinates.
                      
          coordinateissues - if set to "true", return only records for which the
              portal has detected possible issues in georeferencing.  If set to 
              "false", return only records for which the portal has not detected 
              any such issues.  Omit this parameter to retrieve all records, with or 
              without detected issues.
                      
          hostisocountrycode - return only records served by providers from the 
              country identified by the supplied 2-letter ISO code.
                      
              The hostisocountrycode parameter may be repeated within a single 
              request - the results will include records from providers in any of 
              the specified countries.
                      
          originisocountrycode - return only records of occurrences which occurred
              within the country identified by the supplied 2-letter ISO code.
                      
              The originisocountrycode parameter may be repeated within a single 
              request - the results will include records from any of the specified 
              countries.
                      
          originregioncode - return only records of occurrences which occurred
              within the region identified by the supplied 3-letter code.  The
              supported values are: EAF - Eastern Africa, MAF - Middle Africa, 
              NAF - Northern Africa, SAF - Southern Africa, WAF - Western Africa,
              CAR - Caribbean, CAM - Central America, SAM - South America, 
              NAM - Northern America, CAS - Central Asia, EAS - Eastern Asia, 
              SAS - Southern Asia, SEA - South-Eastern Asia, WAS - Western Asia, 
              EEU - Eastern Europe, NEU - Northern Europe, SEU - Southern Europe, 
              WEU - Western Europe, ANZ - Australia and New Zealand, 
              MEL - Melanesia, MIC - Micronesia, POL - Polynesia and 
              ANT - Antarctica.
                      
              The originregioncode parameter may be repeated within a single 
              request - the results will include records from any of the specified 
              regions.
                      
          startdate - return only records occurring on or after the supplied date
              (format YYYY-MM-DD, e.g. 2006-11-28).
                      
          enddate - return only records occurring on or before the supplied date
              (format YYYY-MM-DD, e.g. 2006-11-28).
                      
          startyear - return only records from during or after the supplied year.
                      
          endyear - return only records from during or before the supplied year.
                      
          year - return only records from during the supplied year.
                      
              The year parameter may be repeated within a single request - the 
              results will include records from any of the specified years.
                      
          month - return only records from during the supplied month (expressed
              as an integer in the range 1 to 12).
                      
              The month parameter may be repeated within a single request - the 
              results will include records from any of the specified months.
                      
          day - return only records from during the supplied day of month 
              (expressed as an integer in the range 1 to 31).
                      
              The day parameter may be repeated within a single request - the 
              results will include records from any of the specified days of the
              month.
                      
          modifiedsince - return only records which have been indexed or modified
              in the GBIF data portal index on or after the supplied date (format
              YYYY-MM-DD, e.g. 2006-11-28).  Note that these dates are based on
              the time at the GBIF Secretariat in Copenhagen.
                      
          startindex - return the subset of the matching records that starts at
              the supplied (zero-based index).  If this is not supplied, the 
              response includes records starting with the first matching record
              (equivalent to startindex=0).  This can be used in conjunction with
              information in the /gbifResponse/header/summary element in the
              response document to manage paging through large sets of records.
                      
          maxresults - return at most the specified number of records.  The 
              default (and maximum supported) is 1000 records, except when the 
              format is specified as kml, in which case the default (and
              maximum supported) is 10000 records.  

          format - specifies the format in which the records are to be returned.
              At present the supported values are brief, darwin and kml but more
              may be added later.  
              
              The brief format includes only the available elements from the 
              following list for each record:
              
                - GBIF occurrence record key (can be used with get action)
                - GBIF taxon concept key (can be used in taxonconceptkey parameter
                    on subsequent invocations of the count or list actions, or
                    with the get action of the taxon service)
                - Darwin Core ScientificName
                - Darwin Core Country (with ISO country code as the value)
                - Darwin Core DecimalLatitude
                - Darwin Core DecimalLongitude
                - Darwin Core EarliestDateCollected
                - Darwin Core LatestDateCollected
                
              The darwin format includes all of the above and any other 
              available Darwin Core concepts.  A gbifNotes element
              is used to return additional diagnostic information on the 
              internal consistency and completeness of the record.
                
              The kml format returns KML Placemark features for Google Earth,
              organised according to the species included in the result set.
              The Placemark name holds the ScientificName, and the Placemark
              description holds an HTML table with the provider name, institution
              code, collection code, catalogue number, occurrence date and 
              portal URL for the record.  When the kml format is specified, the
              maxresults parameter may be set as high as 10000 and the icon
              parameter may be used to specify an icon for use with all 
              Placemarks in the result set.  If the icon parameter is not
              specified, the portal will use an internal set of icons, using
              a different icon for each scientific name up to the maximum 
              number of available icons, after which the sequence of icons will
              repeat.
                
              Note that this service only returns data elements held in the 
              GBIF data portal index.  The source records from the providers
              may hold additional data.
                      
          icon - (only when format is set to kml) specified the URL for an icon
              to be used for the KML Placemarks.

          mode - specifies whether the response data should (as far as possible)
              be the raw values originally retrieved from the data resource or
              processed (normalised) values used within the data portal.  The 
              two modes differ particularly with respect to the values returned
              for Country (processed mode returns 2-letter ISO codes for any
              records where the country has been interpreted, either from the 
              country name supplied by the provider or from coordinated) and
              BasisOfRecord (processed mode maps all raw basis of record strings
              to one of the values listed under "basisofrecordcode" above).  The
              processed mode may also normalise the format of taxon names.  
              
              Supported values are: processed (which is the default), raw.
              
          stylesheet - sets the URL of the stylesheet to be associated with the 
              response document.  This overrides the default provided by the data 
              portal.  Supplying an empty string as the value for this parameter
              disables the setting of a stylesheet by the data portal.  The value
              of this parameter is used in an xml-stylesheet processing instruction
              at the start of the response document.  See "7. BROWSER FORMATTING -
              stylesheet" below.
    
    The list action should be used to find occurrence records of interest from
    within the GBIF data portal.  
    
    The response data are only sorted within an individual response.  If the search
    matches more records than can be returned in a single response, subsequent
    responses may include additional blocks of data for providers and resources 
    included in the earlier response.  The data from the union of all responses 
    may need to be sorted before use if such repetition is problematic.
    
    Note that this action does not count all records in the portal matching the 
    supplied filters.  The totalMatched attribute in the response should only
    be used to indicate whether further records exist.  To get an accurate 
    total count, us the count action (see "4. COUNT RECORDS - count" below).
    
    The response is formatted according to the XML schema returned by the schema
    action (see "6. RESPONSE STRUCTURE - schema" below).
    
    The occurrence records are found in the response document at the path
    /gbifResponse/dataProviders/dataProvider/dataResources/dataResource/occurrenceRecords/occurrenceRecord
    
    The /gbifResponse/header/summary element may contain up to four attributes:
    
        start - the index of the first matching record returned.
        totalMatched - the minimum number of matching records contained in the portal.
            This should only be used to indicate that there are more records still
            unreturned.  Use the count action for an accurate count.  This value is
            only reliable if the startindex on the request was lower than the number
            of records actually matching.
        totalReturned - the number of records actually returned in this response.
        next - the index of the next matching record (if totalMatched is greater than
            totalReturned).  This can be used as the value for startindex on the next
            list request to retrieve another page of matching records.
            
    When there are more matching records to retrieve (i.e. the next attribute is set),
    the document includes a URL which can be used to retrieve the next page.  This is
    returned in the /gbifResponse/header/nextRequestUrl element.
    
    Examples:
    
      __WSROOT__/rest/occurrence/list?scientificname=Puma+concolor&format=darwin
              - returns full Darwin Core records of Puma concolor

      __WSROOT__/rest/occurrence/list?originisocountrycode=AT&basisofrecordcode=specimen&enddate=1899-12-31
              - returns records of specimens collected in Austria before 1900

    Likely future enhancements:
    
        1. Support search by thematic network (e.g. MaNIS, OBIS, WFCC).
        2. Support multiple values for a single parameter (to be OR'ed together).
        3. Include URLs to perform the equivalent searches against each 
           matching provider.
        4. Support searches spanning 180 degrees east/west.


4. COUNT RECORDS - count

    Syntax: __WSROOT__/rest/occurrence/count?<parameter_list>
    
      where:
      
        parameter_list is a set of URL-encoded key-value pairs including any of 
            the following keys:

          scientificname - count only records where the scientific name matches 
              that supplied - this is based on the scientific name found in the 
              original record from the data provider and does not make use of 
              extra knowledge of possible synonyms or of child taxa.  For these
              functions, use taxonconceptkey.
              
              Including an asterisk '*' in the search string causes the service
              to return records for any name starting with the string preceding
              the asterisk.  There must be at least three characters preceding
              the asterisk.

              The scientificname parameter may be repeated within a single 
              request - the results will count records matching any of the
              supplied scientific names.
                                            
          taxonconceptkey - count only records which are for the taxon identified
              by the supplied numeric key, including any records provided under 
              synonyms of the taxon concerned, and any records for child taxa (e.g.
              all genera and species within a family).  
              
              Values for taxonconceptkey can be found through the taxon web service
              (see __WSROOT__/rest/taxon).  Note that the service will always 
              search using the corresponding concept in the synthetic generated 
              "PORTAL" taxonomy (even if the taxonconceptkey is for a concept from
              a specific resource.  Use dataresourcekey to limit the search to a
              single data resource.  The most efficient and thorough way to
              search will be to limit searches to taxa belonging to the following ranks:
              kingdom, phylum, class, order, family, genus, species, any infraspecific
              rank.  
              
              The taxonconceptkey parameter may be repeated within a single 
              request - the results will count records for any of the specified
              taxa.
                            
          dataproviderkey - count only records which have been made available by the
              provider identified by the supplied numeric key.  (Each provider may
              serve one or more resources, so this can be used to query the full
              set of resources from a single provider.)
              
              Values for dataproviderkey can be found through the provider web service
              (see __WSROOT__/rest/provider) or from previous invocations of
              the list and get actions of this service.

              The dataproviderkey parameter may be repeated within a single 
              request - the results will count records from any of the specified
              providers.
                      
          dataresourcekey - count only records which have been made available by the
              resource identified by the supplied numeric key.  (Each provider may
              serve one or more resources.)
              
              Values for dataresourcekey can be found through the resource web service
              (see __WSROOT__/rest/resource) or from previous invocations of
              the list and get actions of this service.
                      
              The dataresourcekey parameter may be repeated within a single 
              request - the results will count records from any of the specified
              resources.
                      
          resourcenetworkkey - count only records which have been made available by 
              resources identified as belonging to the network identified by the supplied 
              numeric key.  (Each network may include several resources.)
              
              Values for resourcenetworkkey can be found through the network web service
              (see __WSROOT__/rest/network).                      
                      
              The resourcenetworkkey parameter may be repeated within a single 
              request - the results will count records from any of the specified
              resource networks.
              
          basisofrecordcode - count only records with the specified basis of record. 
              
              Supported values are: specimen, observation, living, germplasm, fossil,
              unknown.
                      
              The basisofrecordcode parameter may be repeated within a single 
              request - the results will count records for any of the specified
              basis of record codes.
                      
          minlatitude - count only records from locations with latitudes greater than 
              the supplied value (southern hemisphere with negative latitudes).  This 
              can be used with other parameters to specify a bounding box.  Records 
              without a latitude will be excluded from the results.  Note that the 
              portal will expand the requested bounding box to the size of an
              enclosing 0.1 by 0.1 degree cell or to the set of all enclosing 1 by 1
              degree cells, whichever is smaller.  Further restriction will require
              postprocessing.
                      
          maxlatitude - count only records from locations with latitudes lower than 
              the supplied value (southern hemisphere with negative latitudes).  This 
              can be used with other parameters to specify a bounding box.  Records 
              without a latitude will be excluded from the results.  Note that the 
              portal will expand the requested bounding box to the size of an
              enclosing 0.1 by 0.1 degree cell or to the set of all enclosing 1 by 1
              degree cells, whichever is smaller.  Further restriction will require
              postprocessing.
                      
          minlongitude - count only records from locations with longitudes greater than 
              the supplied value (western hemisphere with negative longitudes).  This 
              can be used with other parameters to specify a bounding box.  Records 
              without a longitude will be excluded from the results.  Note that the 
              portal will expand the requested bounding box to the size of an
              enclosing 0.1 by 0.1 degree cell or to the set of all enclosing 1 by 1
              degree cells, whichever is smaller.  Further restriction will require
              postprocessing.  Note that this service does not currently support 
              bounding boxes spanning 180 degrees east or west.
                      
          maxlongitude - count only records from locations with longitudes lower than 
              the supplied value (western hemisphere with negative longitudes).  This 
              can be used with other parameters to specify a bounding box.  Records 
              without a longitude will be excluded from the results.  Note that the 
              portal will expand the requested bounding box to the size of an
              enclosing 0.1 by 0.1 degree cell or to the set of all enclosing 1 by 1
              degree cells, whichever is smaller.  Further restriction will require
              postprocessing.  Note that this service does not currently support 
              bounding boxes spanning 180 degrees east or west.
              
          cellid - identifier for a one degree cell (numbered from 0 for the cell with
              -180,-90 for its lower left corner, up to 64,799 for the cell with 
              180, 90 for its upper right corner, iterating over all longitudes for
              each latitude before starting the next highest latitiude).  Values for
              cellid and associated counts of records can be retrieved from the
              density service (see __WSROOT__/rest/density).  Using a cellid is more
              efficient than using a bounding box for the same cell.
              
              The cellid parameter may be repeated within a single request - the 
              results will count records for any of the specified cells.
                      
          centicellid - identifier for a 0.1 degree cell within a one degree cell
              (numbered from 0 for the cell in the lower left corner, up to 99 for 
              the cell with the upper right corner, iterating over all longitudes for
              each latitude before starting the next highest latitiude).
              
              The centicellid parameter may be repeated within a single request - the 
              results will count records for any of the specified cells.
                      
          typesonly - if set to "true", count only records with a type status 
              specified.
              
          georeferencedonly - if set to "true", count only records with coordinates.
              This option is deprecated.  Please use coordinatestatus=true instead.
              
          coordinatestatus - if set to "true", count only records with coordinates.
              This is set automatically if format is kml.  If set to "false", count
              only records without coordinates.  Omit this parameter to retrieve 
              all records, with or without coordinates.
                      
          coordinateissues - if set to "true", count only records for which the
              portal has detected possible issues in georeferencing.  If set to 
              "false", count only records for which the portal has not detected 
              any such issues.  Omit this parameter to retrieve all records, with or 
              without detected issues.
          hostisocountrycode - count only records served by providers from the 
              country identified by the supplied 2-letter ISO code.
                      
                      
              The hostisocountrycode parameter may be repeated within a single 
              request - the results will count records from providers in any of 
              the specified countries.

          originisocountrycode - count only records of occurrences which occurred
              within the country identified by the supplied 2-letter ISO code.
                      
                      
              The originisocountrycode parameter may be repeated within a single 
              request - the results will count records from any of the specified 
              countries.
                      
          originregioncode - count only records of occurrences which occurred
              within the region identified by the supplied 3-letter code.  The
              supported values are: EAF - Eastern Africa, MAF - Middle Africa, 
              NAF - Northern Africa, SAF - Southern Africa, WAF - Western Africa,
              CAR - Caribbean, CAM - Central America, SAM - South America, 
              NAM - Northern America, CAS - Central Asia, EAS - Eastern Asia, 
              SAS - Southern Asia, SEA - South-Eastern Asia, WAS - Western Asia, 
              EEU - Eastern Europe, NEU - Northern Europe, SEU - Southern Europe, 
              WEU - Western Europe, ANZ - Australia and New Zealand, 
              MEL - Melanesia, MIC - Micronesia, POL - Polynesia and 
              ANT - Antarctica.
                      
              The originregioncode parameter may be repeated within a single 
              request - the results will count records from any of the specified 
              regions.

          startdate - count only records occurring on or after the supplied date
              (format YYYY-MM-DD, e.g. 2006-11-28).
                      
          enddate - count only records occurring on or before the supplied date
              (format YYYY-MM-DD, e.g. 2006-11-28).
                      
          startyear - count only records from during or after the supplied year.
                      
          endyear - count only records from during or before the supplied year.
                      
          year - count only records from during the supplied year.
                      
              The year parameter may be repeated within a single request - the 
              results will count records from any of the specified years.
                      
          month - count only records from during the supplied month (expressed
              as an integer in the range 1 to 12).
                      
              The month parameter may be repeated within a single request - the 
              results will count records from any of the specified months.
                      
          day - count only records from during the supplied day of month 
              (expressed as an integer in the range 1 to 31).
                      
              The day parameter may be repeated within a single request - the 
              results will count records from any of the specified days of the
              month.
                      
          modifiedsince - count only records which have been indexed or modified
              in the GBIF data portal index on or after the supplied date (format
              YYYY-MM-DD, e.g. 2006-11-28).  Note that these dates are based on
              the time at the GBIF Secretariat in Copenhagen.
                      
          stylesheet - sets the URL of the stylesheet to be associated with the 
              response document.  This overrides the default provided by the data 
              portal.  Supplying an empty string as the value for this parameter
              disables the setting of a stylesheet by the data portal.  The value
              of this parameter is used in an xml-stylesheet processing instruction
              at the start of the response document.  See "7. BROWSER FORMATTING -
              stylesheet" below.
    
    The count action can be used to get an accurate count of occurrence records of 
    interest from within the GBIF data portal prior to retrieving these records
    using the list action.  This may assist with deciding whether to refine the
    search more closely before retrieving records.
    
    The response is formatted according to the XML schema returned by the schema
    action (see "6. RESPONSE STRUCTURE - schema" below).
    
    The count is returned in the totalMatched attribute of the 
    /gbifResponse/header/summary element in the response document.
    
    Examples:
    
      __WSROOT__/rest/occurrence/count?scientificname=Puma+concolor
              - counts records of Puma concolor

      __WSROOT__/rest/occurrence/count?originisocountrycode=AT&basisofrecordcode=specimen&enddate=1899-12-31
              - counts records of specimens collected in Austria before 1900

    Likely future enhancements:
    
        1. Support search by thematic network (e.g. MaNIS, OBIS, WFCC).
        2. Support multiple values for a single parameter (to be OR'ed together).
        3. Support searches spanning 180 degrees east/west.


5. GET HELP - help

    Syntax: __WSROOT__/rest/occurrence/help
        or: __WSROOT__/rest/occurrence
        
    The help action returns this help documentation.


6. RESPONSE STRUCTURE - schema

    Syntax: __WSROOT__/rest/occurrence/schema
        
    The schema action returns the XML schema document used for the responses to
    the get, list, count and help actions.
    
    The response document includes a header which includes intellectual property 
    statements, information on the request issued and a summary of the response 
    contents.  The body of the document for the response to a list or get action
    request is a dataProviders element, containing one or more dataProvider
    elements, each with metadata on a particular provider and a dataResources 
    element, containing one or more dataResource elements, each with metadata on 
    a particular resource and an occurrenceRecords element containing a set of 
    occurrenceRecord elements.

    The response data are only sorted within an individual response.  If the search
    matches more records than can be returned in a single response, subsequent
    responses may include additional blocks of data for providers and resources 
    included in the earlier response.  The data from the union of all responses 
    may need to be sorted before use if such repetition is problematic.
    

7. BROWSER FORMATTING - stylesheet

    Syntax: __WSROOT__/rest/occurrence/stylesheet
        
    The stylesheet action returns a simple XSLT document which can be used to display
    the responses to the get, list, count and help actions in a readable form in a 
    web browser.  An xml-stylesheet processing instruction referenceing this stylesheet
    is included by default in the responses to these actions.

-